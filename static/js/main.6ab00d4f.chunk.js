(this["webpackJsonpimage-process"]=this["webpackJsonpimage-process"]||[]).push([[0],{43:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(34),h=a.n(r),c=(a(43),a(9)),g=a(13),s=a(60),u=a(4),l=a(32),m=a(2),d=Object(i.createContext)(null),o={imageSrc:"",image:"",imageData:"",imageRed:"",imageGreen:"",imageBlue:"",imageAlpha:""};function p(e){var t=e.children,a=Object(i.useState)(o),n=Object(c.a)(a,2),r=n[0],h=n[1];return Object(m.jsx)(d.Provider,{value:[r,function(e,t){console.log(e,t),h((function(a){return Object(l.a)(Object(l.a)({},a),{},Object(u.a)({},e,t))}))},function(){h(o)}],children:t})}function j(){return Object(i.useContext)(d)}var f=Object(g.a)("input")({display:"none"});function v(){var e=j(),t=Object(c.a)(e,2),a=t[0],n=t[1],r=i.useRef(null),h=i.useRef(null);return Object(m.jsxs)("div",{children:[Object(m.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(m.jsx)(f,{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){console.log(e.currentTarget.files[0]),n("imageSrc",URL.createObjectURL(e.currentTarget.files[0]))}}),Object(m.jsx)(s.a,{variant:"contained",component:"span",children:"\u4e0a\u4f20\u56fe\u7247"})]}),Object(m.jsx)("img",{src:a.imageSrc,ref:h,style:{maxWidth:"400px"},onLoad:function(){r.current.height=h.current.height||400,r.current.width=h.current.width||400;var e=r.current.getContext("2d");e.clearRect(0,0,r.current.height,r.current.width),e.drawImage(h.current,0,0,r.current.width,r.current.height);var t=e.getImageData(0,0,r.current.width,r.current.height);n("image",t);var a=t.data,i=[],c=[],g=[],s=[];n("imageData",a);for(var u=0;u<a.length;u+=4)s.push(a[u+3]),g.push(a[u+2]),c.push(a[u+1]),i.push(a[u]);n("imageRed",i),n("imageGreen",c),n("imageBlue",i),n("imageAlpha",s),h.current.style.display="none"}}),""===a.imageSrc.length?Object(m.jsx)(m.Fragment,{}):Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"\u539f\u59cb\u56fe\u50cf"}),Object(m.jsx)("canvas",{ref:r})]})]})}var b=function(){var e=j(),t=Object(c.a)(e,2),a=t[0],n=(t[1],i.useRef(null)),r=i.useRef(null),h=i.useRef(null),g=i.useRef(null),s=i.useRef(null),u=i.useRef(null);return i.useEffect((function(){if(0!==a.imageRed.length){for(var e=n.current.getContext("2d"),t=[],i=0;i<a.imageRed.length;i++)t.push(a.imageRed[i]),t.push(0),t.push(0),t.push(a.imageAlpha[i]);var c=new Uint8ClampedArray(t),l=new ImageData(c,a.image.width,a.image.height);e.putImageData(l,0,0),e=r.current.getContext("2d"),t=[];for(var m=0;m<a.imageRed.length;m++)t.push(0),t.push(a.imageGreen[m]),t.push(0),t.push(255);var d=new Uint8ClampedArray(t);l=new ImageData(d,a.image.width,a.image.height),e.putImageData(l,0,0),e=h.current.getContext("2d"),t=[];for(var o=0;o<a.imageRed.length;o++)t.push(0),t.push(0),t.push(a.imageBlue[o]),t.push(a.imageAlpha[o]);var p=new Uint8ClampedArray(t);l=new ImageData(p,a.image.width,a.image.height),e.putImageData(l,0,0),e=g.current.getContext("2d");for(var j=[],f=0;f<a.imageRed.length;f+=a.image.width)console.log(a.image.width),j.push(a.imageRed.slice(f,f+a.image.width));for(var v=[],b=0;b<a.image.height-1;b++)for(var x=0;x<a.image.width-1;x++)j[b][x]=j[b][x]-j[b+1][x]+(j[b][x]-j[b][x+1]);for(var O=0;O<a.image.height;O++)for(var w=0;w<a.image.width;w++)v.push(j[O][w]);var R=Math.max.apply(Math,v),y=Math.min.apply(Math,v);t=[];for(var C=0;C<v.length;C++)t.push((v[C]-y)/(R-y)*255),t.push(0),t.push(0),t.push(a.imageAlpha[C]);console.log(t);var D=new Uint8ClampedArray(t);l=new ImageData(D,a.image.width,a.image.height),e.putImageData(l,0,0),e=s.current.getContext("2d");for(var I=[],A=0;A<a.imageRed.length;A+=a.image.width)console.log(a.image.width),I.push(a.imageRed.slice(A,A+a.image.width));for(var M=[],U=0;U<a.image.height-1;U++)for(var S=0;S<a.image.width-1;S++)I[U][S]=I[U][S]-I[U+1][S]+(I[U][S]-I[U][S+1]);for(var B=0;B<a.image.height;B++)for(var F=0;F<a.image.width;F++)M.push(I[B][F]);R=Math.max.apply(Math,M),y=Math.min.apply(Math,M),t=[];for(var L=0;L<M.length;L++)t.push(0),t.push((M[L]-y)/(R-y)*255),t.push(0),t.push(a.imageAlpha[L]);console.log(t);var T=new Uint8ClampedArray(t);l=new ImageData(T,a.image.width,a.image.height),e.putImageData(l,0,0),e=u.current.getContext("2d");for(var G=[],P=0;P<a.imageRed.length;P+=a.image.width)console.log(a.image.width),G.push(a.imageBlue.slice(P,P+a.image.width));for(var k=[],E=0;E<a.image.height-1;E++)for(var J=0;J<a.image.width-1;J++)G[E][J]=G[E][J]-G[E+1][J]+(G[E][J]-G[E][J+1]);for(var W=0;W<a.image.height;W++)for(var q=0;q<a.image.width;q++)k.push(G[W][q]);R=Math.max.apply(Math,k),y=Math.min.apply(Math,k),t=[];for(var z=0;z<k.length;z++)t.push(0),t.push(0),t.push((k[z]-y)/(R-y)*255),t.push(a.imageAlpha[z]);console.log(t);var H=new Uint8ClampedArray(t);l=new ImageData(H,a.image.width,a.image.height),e.putImageData(l,0,0)}}),[a.imageRed]),Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"\u7ea2\u8272\u901a\u9053"}),Object(m.jsx)("canvas",{ref:n})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"\u7eff\u8272\u901a\u9053"}),Object(m.jsx)("canvas",{ref:r})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"\u84dd\u8272\u901a\u9053"}),Object(m.jsx)("canvas",{ref:h})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"\u7ea2\u8272\u5dee\u5206\u68af\u5ea6"}),Object(m.jsx)("canvas",{ref:g})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"\u7eff\u8272\u5dee\u5206\u68af\u5ea6"}),Object(m.jsx)("canvas",{ref:s})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"\u84dd\u8272\u5dee\u5206\u68af\u5ea6"}),Object(m.jsx)("canvas",{ref:u})]})]})};a(49);var x=function(){return Object(m.jsxs)(p,{children:[Object(m.jsx)(v,{}),Object(m.jsx)(b,{})]})},O=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,62)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,r=t.getLCP,h=t.getTTFB;a(e),i(e),n(e),r(e),h(e)}))};h.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(x,{})}),document.getElementById("root")),O()}},[[50,1,2]]]);
//# sourceMappingURL=main.6ab00d4f.chunk.js.map