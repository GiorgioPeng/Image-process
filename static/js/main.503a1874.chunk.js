(this["webpackJsonpimage-process"]=this["webpackJsonpimage-process"]||[]).push([[0],{55:function(e,t,a){},56:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),i=a(39),h=a.n(i),c=(a(55),a(56),a(5)),s=a(13),u=a(10),g=a(0),l=Object(r.createContext)(null),d={imageSrc:"",image:"",imageData:"",red:"",green:"",blue:"",alpha:""};function p(e){var t=e.children,a=Object(r.useState)(d),n=Object(u.a)(a,2),i=n[0],h=n[1];return Object(g.jsx)(l.Provider,{value:[i,function(e,t){console.log(e,t),h((function(a){return Object(s.a)(Object(s.a)({},a),{},Object(c.a)({},e,t))}))},function(){h(d)}],children:t})}function o(){return Object(r.useContext)(l)}var j=a(87),m=a(8),f=a(86),b=Object(m.a)("input")({display:"none"}),v=Object(m.a)("H1")((function(e){var t=e.theme;return Object(s.a)(Object(s.a)({},t.typography.h1),{},{backgroundColor:t.palette.background.paper,padding:t.spacing(1)})}));function x(){var e=o(),t=Object(u.a)(e,2),a=t[0],n=t[1],i=r.useRef(null),h=r.useRef(null);return Object(g.jsxs)("div",{style:{margin:"20vh auto",display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(g.jsx)(v,{children:"Upload is all you need."}),Object(g.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(g.jsx)(b,{accept:"image/*",id:"contained-button-file",type:"file",onChange:function(e){n("imageSrc",URL.createObjectURL(e.currentTarget.files[0]))}}),Object(g.jsx)(f.a,{variant:"contained",component:"span",children:"Upload"})]}),Object(g.jsx)("img",{src:a.imageSrc,ref:i,style:{maxWidth:"400px"},onLoad:function(){h.current.width=i.current.width||400,h.current.height=i.current.height||400;var e=h.current.getContext("2d");e.clearRect(0,0,h.current.width,h.current.height),e.drawImage(i.current,0,0,h.current.width,h.current.height),i.current.style.display="none";var t=e.getImageData(0,0,h.current.width,h.current.height);n("image",t),n("imageData",t.data);for(var a=[],r=[],c=[],s=[],u=0;u<t.data.length;u+=4)a.push(t.data[u]),r.push(t.data[u+1]),c.push(t.data[u+2]),s.push(t.data[u+3]);n("red",a),n("green",r),n("blue",c),n("alpha",s)}}),Object(g.jsx)("canvas",{ref:h})]})}var O=Object(m.a)("H6")((function(e){var t=e.theme;return Object(s.a)(Object(s.a)({},t.typography.h6),{},{backgroundColor:t.palette.background.paper,padding:t.spacing(1)})}));function w(){var e=r.useRef(null),t=r.useRef(null),a=r.useRef(null),n=o(),i=Object(u.a)(n,1)[0];return r.useEffect((function(){if(0!==i.imageData.length){for(var r=[],n=0;n<i.red.length;n++)r.push(i.red[n]),r.push(0),r.push(0),r.push(i.alpha[n]);r=new Uint8ClampedArray(r),e.current.width=i.image.width||400,e.current.height=i.image.height||400;var h=e.current.getContext("2d"),c=new ImageData(r,i.image.width,i.image.height);h.putImageData(c,0,0),r=[];for(var s=0;s<i.green.length;s++)r.push(0),r.push(i.green[s]),r.push(0),r.push(i.alpha[s]);r=new Uint8ClampedArray(r),t.current.width=i.image.width||400,t.current.height=i.image.height||400,h=t.current.getContext("2d"),c=new ImageData(r,i.image.width,i.image.height),h.putImageData(c,0,0),r=[];for(var u=0;u<i.blue.length;u++)r.push(0),r.push(0),r.push(i.blue[u]),r.push(i.alpha[u]);r=new Uint8ClampedArray(r),a.current.width=i.image.width||400,a.current.height=i.image.height||400,h=a.current.getContext("2d"),c=new ImageData(r,i.image.width,i.image.height),h.putImageData(c,0,0)}}),[i.imageData]),Object(g.jsx)("div",{children:0!==i.imageData.length?Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(g.jsxs)("div",{children:[Object(g.jsx)(O,{children:"\u7ea2\u8272\u901a\u9053"}),Object(g.jsx)("canvas",{ref:e})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)(O,{children:"\u7eff\u8272\u901a\u9053"}),Object(g.jsx)("canvas",{ref:t})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)(O,{children:"\u84dd\u8272\u901a\u9053"}),Object(g.jsx)("canvas",{ref:a})]})]}):Object(g.jsx)(g.Fragment,{})})}var y=a(9),D=Object(m.a)("H6")((function(e){var t=e.theme;return Object(s.a)(Object(s.a)({},t.typography.h6),{},{backgroundColor:t.palette.background.paper,padding:t.spacing(1)})}));function C(){var e=r.useRef(null),t=r.useRef(null),a=r.useRef(null),n=r.useRef(null),i=o(),h=Object(u.a)(i,1)[0];return r.useEffect((function(){if(0!==h.imageData.length){for(var r=[],i=0;i<h.red.length;i+=h.image.width)r.push(h.red.slice(i,i+h.image.width));for(var c=0;c<h.image.height-1;c++)for(var s=0;s<h.image.width-1;s++)r[c][s]=r[c][s]-r[c+1][s]+(r[c][s]-r[c][s+1]);for(var u=[],g=0;g<h.image.height;g++)for(var l=0;l<h.image.width;l++)u.push(r[g][l]);var d=Math.max.apply(Math,Object(y.a)(u)),p=Math.min.apply(Math,Object(y.a)(u));u=u.map((function(e){return(e-p)/(d-p)*255})),r=[];for(var o=0;o<u.length;o++)r.push(u[o]),r.push(0),r.push(0),r.push(h.alpha[o]);r=new Uint8ClampedArray(r),e.current.width=h.image.width||400,e.current.height=h.image.height||400;var j=e.current.getContext("2d"),m=new ImageData(r,h.image.width,h.image.height);j.putImageData(m,0,0),r=[];for(var f=0;f<h.green.length;f+=h.image.width)r.push(h.green.slice(f,f+h.image.width));for(var b=0;b<h.image.height-1;b++)for(var v=0;v<h.image.width-1;v++)r[b][v]=r[b][v]-r[b+1][v]+(r[b][v]-r[b][v+1]);for(var x=[],O=0;O<h.image.height;O++)for(var w=0;w<h.image.width;w++)x.push(r[O][w]);d=Math.max.apply(Math,Object(y.a)(x)),p=Math.min.apply(Math,Object(y.a)(x)),x=x.map((function(e){return(e-p)/(d-p)*255})),r=[];for(var D=0;D<x.length;D++)r.push(0),r.push(x[D]),r.push(0),r.push(h.alpha[D]);r=new Uint8ClampedArray(r),t.current.width=h.image.width||400,t.current.height=h.image.height||400,j=t.current.getContext("2d"),m=new ImageData(r,h.image.width,h.image.height),j.putImageData(m,0,0),r=[];for(var C=0;C<h.blue.length;C+=h.image.width)r.push(h.blue.slice(C,C+h.image.width));for(var I=0;I<h.image.height-1;I++)for(var M=0;M<h.image.width-1;M++)r[I][M]=r[I][M]-r[I+1][M]+(r[I][M]-r[I][M+1]);for(var R=[],U=0;U<h.image.height;U++)for(var k=0;k<h.image.width;k++)R.push(r[U][k]);d=Math.max.apply(Math,Object(y.a)(R)),p=Math.min.apply(Math,Object(y.a)(R)),R=R.map((function(e){return(e-p)/(d-p)*255})),r=[];for(var A=0;A<R.length;A++)r.push(0),r.push(0),r.push(R[A]),r.push(h.alpha[A]);r=new Uint8ClampedArray(r),a.current.width=h.image.width||400,a.current.height=h.image.height||400,j=a.current.getContext("2d"),m=new ImageData(r,h.image.width,h.image.height),j.putImageData(m,0,0),r=[];for(var F=0;F<R.length;F++)r.push(u[F]),r.push(x[F]),r.push(R[F]),r.push(h.alpha[F]);r=new Uint8ClampedArray(r),n.current.width=h.image.width||400,n.current.height=h.image.height||400,j=n.current.getContext("2d"),m=new ImageData(r,h.image.width,h.image.height),j.putImageData(m,0,0)}}),[h.imageData]),Object(g.jsx)("div",{children:0!==h.imageData.length?Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(g.jsx)(D,{children:"\u7ea2\u8272\u901a\u9053\u5dee\u5206\u68af\u5ea6"}),Object(g.jsx)("canvas",{ref:e})]}),Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(g.jsx)(D,{children:"\u7eff\u8272\u901a\u9053\u5dee\u5206\u68af\u5ea6"}),Object(g.jsx)("canvas",{ref:t})]}),Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(g.jsx)(D,{children:"\u84dd\u8272\u901a\u9053\u5dee\u5206\u68af\u5ea6"}),Object(g.jsx)("canvas",{ref:a})]}),Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(g.jsx)(D,{children:"\u5dee\u5206\u68af\u5ea6\u56fe"}),Object(g.jsx)("canvas",{ref:n})]})]}):Object(g.jsx)(g.Fragment,{})})}var I=Object(m.a)("H6")((function(e){var t=e.theme;return Object(s.a)(Object(s.a)({},t.typography.h6),{},{backgroundColor:t.palette.background.paper,padding:t.spacing(1)})}));function M(){var e=r.useRef(null),t=r.useRef(null),a=r.useRef(null),n=r.useRef(null),i=o(),h=Object(u.a)(i,1)[0];return r.useEffect((function(){if(0!==h.imageData.length){for(var r=[],i=0;i<h.red.length;i+=h.image.width)r.push(h.red.slice(i,i+h.image.width));for(var c=0;c<h.image.height-1;c++)for(var s=0;s<h.image.width-1;s++)r[c][s]=r[c][s]-r[c+1][s+1]+(r[c][s+1]-r[c+1][s]);for(var u=[],g=0;g<h.image.height;g++)for(var l=0;l<h.image.width;l++)u.push(r[g][l]);var d=Math.max.apply(Math,Object(y.a)(u)),p=Math.min.apply(Math,Object(y.a)(u));u=u.map((function(e){return(e-p)/(d-p)*255})),r=[];for(var o=0;o<u.length;o++)r.push(u[o]),r.push(0),r.push(0),r.push(h.alpha[o]);r=new Uint8ClampedArray(r),e.current.width=h.image.width||400,e.current.height=h.image.height||400;var j=e.current.getContext("2d"),m=new ImageData(r,h.image.width,h.image.height);j.putImageData(m,0,0),r=[];for(var f=0;f<h.green.length;f+=h.image.width)r.push(h.green.slice(f,f+h.image.width));for(var b=0;b<h.image.height-1;b++)for(var v=0;v<h.image.width-1;v++)r[b][v]=r[b][v]-r[b+1][v+1]+(r[b][v+1]-r[b+1][v]);for(var x=[],O=0;O<h.image.height;O++)for(var w=0;w<h.image.width;w++)x.push(r[O][w]);d=Math.max.apply(Math,Object(y.a)(x)),p=Math.min.apply(Math,Object(y.a)(x)),x=x.map((function(e){return(e-p)/(d-p)*255})),r=[];for(var D=0;D<x.length;D++)r.push(0),r.push(x[D]),r.push(0),r.push(h.alpha[D]);r=new Uint8ClampedArray(r),t.current.width=h.image.width||400,t.current.height=h.image.height||400,j=t.current.getContext("2d"),m=new ImageData(r,h.image.width,h.image.height),j.putImageData(m,0,0),r=[];for(var C=0;C<h.blue.length;C+=h.image.width)r.push(h.blue.slice(C,C+h.image.width));for(var I=0;I<h.image.height-1;I++)for(var M=0;M<h.image.width-1;M++)r[I][M]=r[I][M]-r[I+1][M+1]+(r[I][M+1]-r[I+1][M]);for(var R=[],U=0;U<h.image.height;U++)for(var k=0;k<h.image.width;k++)R.push(r[U][k]);d=Math.max.apply(Math,Object(y.a)(R)),p=Math.min.apply(Math,Object(y.a)(R)),R=R.map((function(e){return(e-p)/(d-p)*255})),r=[];for(var A=0;A<R.length;A++)r.push(0),r.push(0),r.push(R[A]),r.push(h.alpha[A]);r=new Uint8ClampedArray(r),a.current.width=h.image.width||400,a.current.height=h.image.height||400,j=a.current.getContext("2d"),m=new ImageData(r,h.image.width,h.image.height),j.putImageData(m,0,0),r=[];for(var F=0;F<R.length;F++)r.push(u[F]),r.push(x[F]),r.push(R[F]),r.push(h.alpha[F]);r=new Uint8ClampedArray(r),n.current.width=h.image.width||400,n.current.height=h.image.height||400,j=n.current.getContext("2d"),m=new ImageData(r,h.image.width,h.image.height),j.putImageData(m,0,0)}}),[h.imageData]),Object(g.jsx)("div",{children:0!==h.imageData.length?Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(g.jsx)(I,{children:"\u7ea2\u8272\u901a\u9053\u5dee\u5206\u7f57\u4f2f\u7279\u68af\u5ea6"}),Object(g.jsx)("canvas",{ref:e})]}),Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(g.jsx)(I,{children:"\u7eff\u8272\u901a\u9053\u5dee\u5206\u7f57\u4f2f\u7279\u68af\u5ea6"}),Object(g.jsx)("canvas",{ref:t})]}),Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(g.jsx)(I,{children:"\u84dd\u8272\u901a\u9053\u5dee\u5206\u7f57\u4f2f\u7279\u68af\u5ea6"}),Object(g.jsx)("canvas",{ref:a})]}),Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(g.jsx)(I,{children:"\u5dee\u5206\u7f57\u4f2f\u7279\u68af\u5ea6\u56fe"}),Object(g.jsx)("canvas",{ref:n})]})]}):Object(g.jsx)(g.Fragment,{})})}var R=Object(m.a)("H6")((function(e){var t=e.theme;return Object(s.a)(Object(s.a)({},t.typography.h6),{},{backgroundColor:t.palette.background.paper,padding:t.spacing(1)})}));function U(){var e=r.useRef(null),t=r.useRef(null),a=o(),n=Object(u.a)(a,1)[0],i=function(e,t,a){return t+=1e-9,1/Math.pow(2*Math.PI*t,.5)*Math.exp(-Math.pow(a-e,2)/(2*t))},h=function(e,t){for(var a=1e-9,r=0,n=0;n<e;n++)r+=t[n];for(var h,c=1-r,s=0,u=0,g=0,l=0,d=0,p=t.map((function(e){return e/(r+a)})).slice(0,e),o=t.map((function(e){return e/(c+a)})).slice(e),j=0;j<e;j++)u+=j*p[j];for(var m=e;m<256;m++)g+=m*o[m-e];for(var f=0;f<e;f++)l+=Math.pow(f-u,2)*p[f];for(var b=e;b<256;b++)d+=Math.pow(b-g,2)*o[b-e];for(var v=0;v<256;v++)h=r*i(u,l,v)+c*i(g,d,v)+a,s+=t[v]*Math.log(t[v]/h+a);return s};return r.useEffect((function(){if(0!==n.imageData.length){for(var a=[],r=[],i={},c=0;c<n.red.length;c++){var s=parseInt(.3*n.red[c]+.59*n.green[c]+.11*n.blue[c]);isNaN(s)||(a.push(s),i[s]?i[s]++:i[s]=1)}var u=0;Object.keys(i).forEach((function(e){u+=i[e]}));for(var g=0;g<256;g++)r.push(i[g]?parseFloat(i[g])/parseFloat(u):0);for(var l=1e6,d=0,p=0;p<256;p++){var o=h(p,r);l>o&&(l=o,d=p)}var j=[],m=[],f=[],b=[],v=[],x=[];a.forEach((function(e,t){e<d?(j.push(0),m.push(0),f.push(0),b.push(255),v.push(255),x.push(255)):(j.push(255),m.push(255),f.push(255),b.push(0),v.push(0),x.push(0))}));for(var O=[],w=0;w<n.blue.length;w++)O.push(j[w]),O.push(m[w]),O.push(f[w]),O.push(n.alpha[w]);O=new Uint8ClampedArray(O),e.current.width=n.image.width||400,e.current.height=n.image.height||400;var y=e.current.getContext("2d"),D=new ImageData(O,n.image.width,n.image.height);y.putImageData(D,0,0),O=[];for(var C=0;C<n.blue.length;C++)O.push(b[C]),O.push(v[C]),O.push(x[C]),O.push(n.alpha[C]);O=new Uint8ClampedArray(O),t.current.width=n.image.width||400,t.current.height=n.image.height||400,y=t.current.getContext("2d"),D=new ImageData(O,n.image.width,n.image.height),y.putImageData(D,0,0)}}),[n.imageData]),Object(g.jsx)("div",{children:0!==n.imageData.length?Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(g.jsx)(R,{children:"\u7070\u5ea6\u76f4\u65b9\u56fe\u53cc\u5cf0\u6df7\u5408\u9ad8\u65af\u4e0b\u80cc\u666f|\u524d\u666f"}),Object(g.jsx)("canvas",{ref:t})]}),Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(g.jsx)(R,{children:"\u7070\u5ea6\u76f4\u65b9\u56fe\u53cc\u5cf0\u6df7\u5408\u9ad8\u65af\u4e0b\u524d\u666f|\u80cc\u666f"}),Object(g.jsx)("canvas",{ref:e})]})]}):Object(g.jsx)(g.Fragment,{})})}var k=a(43),A=a(44),F=a(46),E=a(45),S=a(83),H=a(84),L=function(e){Object(F.a)(a,e);var t=Object(E.a)(a);function a(e){var r;return Object(k.a)(this,a),(r=t.call(this,e)).state={hasError:!1},r}return Object(A.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(S.a,{severity:"error",children:[Object(g.jsx)(H.a,{children:"\u5185\u5b58\u70b8\u4e86"}),"\uff08\u5185\u5b58\u8c03\u5ea6\u8fc7\u6765\u53ef\u80fd\u4ecd\u7136\u80fd\u7ee7\u7eed\u8fd0\u884c\uff09\u5982\u679c\u4e0b\u9762\u5904\u7406\u7ed3\u679c\u6ca1\u6709\u663e\u793a",Object(g.jsx)("strong",{children:"\u5c1d\u8bd5\u5237\u65b0\u9875\u9762!"}),"\u5e76\u518d\u6b21\u4e0a\u4f20|",Object(g.jsx)("strong",{children:"\u6216\u8005\u4e0a\u4f20\u5c0f\u4e00\u70b9\u7684\u56fe\u7247\u5427\uff01"})]}),this.props.children]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(r.Component);var P=function(){return Object(g.jsx)(p,{children:Object(g.jsxs)(L,{children:[Object(g.jsx)(x,{}),Object(g.jsx)(j.a,{}),Object(g.jsx)(w,{}),Object(g.jsx)(j.a,{}),Object(g.jsx)(C,{}),Object(g.jsx)(j.a,{}),Object(g.jsx)(M,{}),Object(g.jsx)(j.a,{}),Object(g.jsx)(U,{})]})})},T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,88)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,h=t.getTTFB;a(e),r(e),n(e),i(e),h(e)}))};h.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(P,{})}),document.getElementById("root")),T()}},[[62,1,2]]]);
//# sourceMappingURL=main.503a1874.chunk.js.map